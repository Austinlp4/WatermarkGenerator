{
  "schemaVersion": 2,
  "dockerfileLines": [
    "FROM golang:1.21-alpine",
    "RUN apk add --no-cache gcc musl-dev nodejs npm",
    "WORKDIR /",
    "COPY . .",
    "WORKDIR /frontend",
    "RUN npm install",
    "RUN npm install typescript",
    "RUN npx tsc --version",
    "RUN ls -la",
    "RUN cat tsconfig.json",
    "RUN npm run build || true",
    "WORKDIR /",
    "RUN go build -o watermark-generator",
    "EXPOSE 8080",
    "CMD [\"./watermark-generator\"]"
  ]
}