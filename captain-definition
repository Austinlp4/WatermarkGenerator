{
  "schemaVersion": 2,
  "dockerfileLines": [
    "FROM golang:1.21-alpine",
    "RUN apk add --no-cache gcc musl-dev nodejs npm",
    "WORKDIR /",
    "COPY . .",
    "WORKDIR /frontend",
    "RUN npm install",
    "RUN npm run build",
    "WORKDIR /",
    "RUN go build -o watermark-generator",
    "EXPOSE 8080",
    "CMD [\"./watermark-generator\"]"
  ]
}